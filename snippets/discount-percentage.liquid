{%- liquid
  assign selected_variant = closest.product.selected_or_first_available_variant
  assign price = selected_variant.price
  assign compare_at_price = selected_variant.compare_at_price
  assign discount = compare_at_price | minus: price
  assign discount_percentage = discount | times: 100 | divided_by: compare_at_price
-%}

<span role="group" class="discount-percentage"> -{{ discount_percentage }}% </span>

<style>
  .discount-percentage {
    color: #ff0000;
    font-weight: bold;
    padding-left: 5px;
    padding-right: 5px;
    border-radius: 5px;
    font-size: 1em;
    display: inline-block;
  }
</style>
